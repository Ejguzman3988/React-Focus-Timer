"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=require("react");function t(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var o=t(e);function l(e,t){void 0===t&&(t={});var o=t.insertAt;if(e&&"undefined"!=typeof document){var l=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css","top"===o&&l.firstChild?l.insertBefore(r,l.firstChild):l.appendChild(r),r.styleSheet?r.styleSheet.cssText=e:r.appendChild(document.createTextNode(e))}}l(".button:hover{filter:brightness(90%) hue-rotate(var(--deg))}.button:active{filter:hue-rotate(calc(var(--deg) + 30deg))}.button{cursor:pointer;filter:hue-rotate(var(--deg))}.button__selected{filter:hue-rotate(calc(var(--deg) + 30deg)) brightness(130%)}.focus__buttons{align-items:center;display:flex;justify-content:center}");const r=({idx:e,icon:t,selected:l,handleSelected:r})=>o.default.createElement("span",{className:l?"button button__selected":"button",onClick:()=>r(t,e)},t),a=({buttons:e,selected:t,setSelected:l,setTime:a,setBlink:n,timerId:c,setTimerId:s,blinkId:d,setBlinkId:i,resetTime:u,myStorage:m})=>{const f=(e,t)=>{switch("üîÅ"===e||void 0!==t&&l((()=>t)),e){case"‚ñ∂Ô∏è":c||(s(setInterval((()=>{a((e=>e+1))}),1e3)),i(setInterval((()=>{n((e=>!e))}),500)));break;case"‚è∏Ô∏è":clearInterval(c),clearInterval(d),n(!0),s(null),i(null);break;case"‚èπÔ∏è":clearInterval(c),clearInterval(d),s(null),i(null),u();break;case"üîÅ":m.removeItem("focusHighScore"),a(0);break;default:return}};return o.default.createElement("div",{className:"focus__buttons"},e.map(((e,l)=>o.default.createElement(r,{key:l,idx:l,icon:e,selected:t===l,handleSelected:f}))))};l(".focus__timer{align-items:center;display:flex;flex-direction:row;flex-wrap:wrap;justify-content:center}.clock{background:var(--clockColor);border:var(--fontColor) outset;color:var(--fontColor);font-family:digital-7;height:1.5rem;margin-right:15px;padding:5px}.clock__hide__colon{color:var(--clockColor)}@media only screen and (max-width:800px){.focus__timer{align-items:center;display:flex;flex-direction:column;flex-wrap:wrap;justify-content:center}}");const n=({hours:e,minutes:t,seconds:l,blink:r})=>o.default.createElement("div",{className:"clock"},o.default.createElement("span",null,e),o.default.createElement("span",{className:r?null:"clock__hide__colon"},":"),o.default.createElement("span",null,t),o.default.createElement("span",{className:r?null:"clock__hide__colon"},":"),o.default.createElement("span",null,l)),c=({time:t,setTime:l,label:r,buttons:c,myStorage:s})=>{const[d,i,u]=((e=0)=>[Math.floor(e/3600).toString().padStart(2,"0"),Math.floor(e/60%60).toString().padStart(2,"0"),(e%60).toString().padStart(2,"0")])(t),[m,f]=e.useState(!0),[g,p]=e.useState(void 0),[b,h]=e.useState(null),[k,_]=e.useState(null),y=e.useRef();y.current=t;e.useEffect((()=>{const e=parseInt(s.getItem("focus"));return l(e||0),window.addEventListener("beforeunload",(e=>{clearInterval(b),clearInterval(k),s.setItem("focus",y.current)})),()=>{clearInterval(b),clearInterval(k),s.setItem("timer",t)}}),["Focus"===r]);const v={buttons:c,selected:g,setSelected:p,setTime:l,timerId:b,setTimerId:h,blink:m,setBlink:f,blinkId:k,setBlinkId:_,resetTime:()=>{l(0),f(!0)},myStorage:s};return o.default.createElement("span",{className:"focus__timer"},o.default.createElement("span",{className:"focus__label"},r,":"),o.default.createElement(n,{hours:d,minutes:i,seconds:u,blink:m}),o.default.createElement(a,v))};l(".focus__theme{align-items:center;display:flex;flex-direction:row;flex-wrap:wrap}@media only screen and (max-width:800px){.focus__theme{align-items:center;display:flex;flex-direction:column;flex-wrap:wrap;justify-content:center}}");const s=({themeOption:e,toggle:t,setToggle:l,setTheme:r})=>o.default.createElement("div",{className:"focus__option",style:{border:`5px var(--${e.theme}-backgroundColor) double`,background:`var(--${e.theme}-clockColor)`,color:`var(--${e.theme}-backgroundColor)`},onClick:o=>{t||(console.log("newSet"),r(e)),l((e=>!e))}},e.theme),d=({theme:t,setTheme:l,themes:r})=>{const[a,n]=e.useState(!1);return o.default.createElement("div",{className:"focus__theme"},o.default.createElement("div",{className:"focus__label"},"Theme: "),o.default.createElement("ul",{className:"focus__dropdown"},a?r?.map(((e,t)=>o.default.createElement(s,{key:t,themeOption:e,setTheme:l,setToggle:n}))):t&&o.default.createElement(s,{key:"default",themeOption:t,setTheme:l,toggle:a,setToggle:n})))};l(":root{--elegant-clockColor:#8a6626;--elegant-fontColor:#efc8b1;--elegant-backgroundColor:#efc8b1;--dependable-clockColor:#241f1c;--dependable-fontColor:#937047;--dependable-backgroundColor:#937047;--friendly-clockColor:#bdfff6;--friendly-fontColor:#e23c52;--friendly-backgroundColor:#e23c52;--laid-back-clockColor:#4d3227;--laid-back-fontColor:#ebc999;--laid-back-backgroundColor:#ebc999;--deg:180deg;--clockColor:var(--elegant-clockColor);--fontColor:var(--elegant-fontColor);--backgroundColor:var(--elegant-backgroundColor)}.focus__container{align-items:center;background-color:var(--backgroundColor);border-bottom:var(--clockColor) solid;box-shadow:var(--clockColor) 0,1px,10px;color:var(--clockColor);display:flex;font-size:1.5rem;justify-content:space-between;margin-bottom:10px;padding:5px;position:sticky;width:100%}.focus__container>div{display:inline-flex}@font-face{font-family:digital-7;src:url(../../fonts/digital-7.ttf)}@media only screen and (max-width:370px){.focus__container{-moz-transform:translateY(-30%) scale(.5);transform:translateY(-30%) scale(.5)}.focus__container,.focus__theme{align-items:center;display:flex;flex-direction:column;flex-wrap:wrap;justify-content:center}.focus__theme{border-bottom:var(--clockColor) solid;border-top:var(--clockColor) solid;padding-bottom:10%;padding-top:10%;width:100%}.focus__timer{align-items:center;display:flex;flex-direction:column;flex-wrap:wrap;justify-content:center}}");exports.FocusTimer=()=>{const[t,l]=e.useState(0),[r,a]=e.useState(0),[n,s]=e.useState(null),[i,u]=e.useState(null),m=window.localStorage,f=document.querySelector(":root"),g=getComputedStyle(f);return e.useEffect((()=>{const e=m.getItem("focusTheme"),t=m.getItem("focusAllThemes");s(e?e.split(","):{theme:"elegant",buttonDeg:"180deg"}),u(t||[{theme:"elegant",buttonDeg:"180deg"},{theme:"dependable",buttonDeg:"222deg"},{theme:"friendly",buttonDeg:"45deg"},{theme:"laid-back",buttonDeg:"250deg"}])}),[]),e.useEffect((()=>{a((()=>(m.setItem("focusHighScore",t),t)))}),[t>r]),e.useEffect((()=>{const e=m.getItem("focusTheme");if(e&&e!==n&&m.setItem("focusTheme",n),n){const e=g.getPropertyValue("--"+n.theme+"-clockColor"),t=g.getPropertyValue("--"+n.theme+"-fontColor"),o=g.getPropertyValue("--"+n.theme+"-backgroundColor");f.style.setProperty("--clockColor",e),f.style.setProperty("--fontColor",t),f.style.setProperty("--backgroundColor",o),f.style.setProperty("--deg",n.buttonDeg)}}),[n]),e.useEffect((()=>{const e=JSON.parse(m.getItem("focusAllThemes"));e&&e!==i&&m.setItem("focusAllThemes",JSON.stringify(e))}),[i]),o.default.createElement("div",{className:"focus__container"},o.default.createElement(c,{label:"Focus",time:t,setTime:l,buttons:["‚ñ∂Ô∏è","‚è∏Ô∏è","‚èπÔ∏è"],myStorage:m}),o.default.createElement(d,{theme:n,setTheme:s,themes:i}),o.default.createElement(c,{label:"High Score",time:r,setTime:a,buttons:["üîÅ"],myStorage:m}))};
